# 项目结构说明

## 后端结构 (backend/)

```
backend/
├── src/
│   ├── middleware/        # 中间件
│   │   ├── auth.ts        # JWT认证中间件
│   │   ├── errorHandler.ts # 错误处理
│   │   └── rateLimiter.ts  # 限流
│   ├── routes/            # 路由（auth/user/rooms 已实现）
│   ├── utils/             # 工具函数
│   │   ├── logger.ts      # 日志工具
│   │   ├── db.ts          # Prisma客户端
│   │   └── redis.ts       # Redis客户端
│   └── server.ts          # 服务器入口
├── prisma/
│   └── schema.prisma      # 数据库模型定义
├── docker-compose.yml     # Docker编排
├── Dockerfile             # Docker镜像配置
├── package.json           # 依赖配置
└── tsconfig.json          # TypeScript配置
```

## 前端结构 (frontend/)

```
frontend/
├── src/
│   ├── pages/             # 页面组件
│   │   ├── Home.tsx       # 首页（入口到房间列表）
│   │   ├── Login.tsx      # 登录页
│   │   ├── Register.tsx   # 注册页
│   │   ├── Rooms.tsx      # 房间列表/创建/加入/离开，订阅房间事件刷新
│   │   └── ...            # 忘记/重置密码等
│   ├── services/          # API服务
│   │   ├── api.ts         # Axios客户端
│   │   ├── auth.ts        # 认证接口封装
│   │   ├── rooms.ts       # 房间接口封装（create/list/join/leave）
│   │   └── websocket.ts   # WebSocket服务
│   ├── stores/            # Zustand状态管理
│   │   └── authStore.ts   # 认证状态
│   ├── App.tsx            # 根组件
│   └── main.tsx           # 入口文件
├── package.json           # 依赖配置
├── vite.config.ts         # Vite配置
└── tsconfig.json          # TypeScript配置
```

## 技术栈

### 后端
- **框架**: Express.js
- **语言**: TypeScript
- **数据库**: PostgreSQL (Prisma ORM)
- **缓存**: Redis
- **实时通信**: Socket.io
- **认证**: JWT
- **日志**: Winston

### 前端
- **框架**: React 18
- **语言**: TypeScript
- **构建工具**: Vite
- **路由**: React Router v6
- **状态管理**: Zustand
- **UI组件**: Ant Design
- **HTTP客户端**: Axios
- **WebSocket**: Socket.io-client

## 开发规范

- 使用 TypeScript 严格模式
- ESLint + Prettier 代码格式化
- 遵循 RESTful API 设计
- 统一的错误处理机制
- 日志记录重要操作

